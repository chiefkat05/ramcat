#version 460 core
out vec4 FragColor;
in vec2 tex_position;
in float skipDraw;

uniform sampler2D tex;
uniform vec2 tex_offset;
uniform vec2 tex_scale;
uniform vec4 color;

void main()
{
    if (skipDraw == -1.0 || color.a <= 0.1)
        discard;

    vec4 textureOutput = texture(tex, (tex_position + tex_offset) * tex_scale);
    if (textureOutput.w < 0.1)
        discard;
    textureOutput *= color;
    FragColor = textureOutput;
} 